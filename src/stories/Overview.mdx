import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Foundations/Overview" />

<div style={{ display: "flex", alignItems: "center", gap: "16px", marginBottom: "32px" }}>
	<img
		src="/profile-picture.png"
		alt="kim-yeo-appweb-lab"
		style={{ width: "80px", height: "80px", borderRadius: "12px" }}
	/>
	<div>
		<h1 style={{ margin: 0, fontSize: "32px", fontWeight: 700 }}>디자인 시스템 개요</h1>
		<p style={{ margin: "8px 0 0 0", color: "#71717a" }}>
			React 19 + Tailwind CSS 4 기반 범용 UI 컴포넌트 라이브러리.
			<br />
			프레임워크 독립적 설계와 확장 가능한 디자인 토큰 시스템을 제공합니다.
		</p>
	</div>
</div>

---

## 핵심 특징

### 3계층 토큰 아키텍처

디자인 토큰은 Raw → Alias → Semantic 3단계 구조로 관리되며, 브랜드 변경과 테마 전환에 유연하게 대응합니다.

| 계층                | 역할                        | 예시                          | 변경 빈도    |
| ------------------- | --------------------------- | ----------------------------- | ------------ |
| **Raw (Primitive)** | 순수 색상 스케일            | `primary-500`, `neutral-200`  | 거의 없음    |
| **Alias (Brand)**   | Raw → 브랜드 의미 매핑      | `brand-primary = primary-500` | 리브랜딩 시  |
| **Semantic (Role)** | UI 역할 기반, 다크모드 전환 | `bg-surface`, `text-fg`       | 테마 변경 시 |

### React 19 네이티브

- Ref as Prop 지원으로 `forwardRef` 불필요
- "use client" 지시어로 Server Component와 명확한 분리
- TypeScript strict 모드 완전 지원

### 프레임워크 독립적

- Next.js, Vite, CRA 등 모든 React 환경 지원
- 비즈니스 로직 및 도메인 타입 의존성 없음
- Tree-shakeable ESM 빌드

---

## 토큰 데이터 흐름

```
Raw 팔레트 (primary-500: #3b82f6)
  ↓
Alias 매핑 (brand-primary → primary-500)
  ↓
Semantic 토큰 (--color-primary → brand-primary)
  ↓ 다크모드 시 다른 Raw 값 참조
Tailwind 유틸리티 (bg-primary, text-primary-fg)
```

커스터마이징 시나리오:
- 브랜드 색상 변경 → Alias 레이어 매핑 수정
- 다크모드 조정 → Semantic 레이어 값 변경
- 새 테마 추가 → Raw 팔레트 재사용하여 Semantic 토큰 세트 생성

---

## 컴포넌트 구성

### 기본 컴포넌트

- Button, Input, Textarea, Select
- Card, Badge, Avatar
- Modal (네이티브 dialog 기반)

### 복합 컴포넌트

- Tab (filled/underline 변형)
- Pagination (ellipsis 자동 처리)
- Filter (칩 형태 필터링)
- TagInput (다중 태그 입력)

### 레이아웃

- Breadcrumb (페이지 계층 네비게이션)
- SectionHeader (섹션 타이틀 + 액션)
- EmptyState (빈 상태 플레이스홀더)

---

## Tailwind CSS 4 통합

Tailwind CSS 4의 `@theme` 블록을 사용한 디자인 토큰 네이티브 통합.

```css
/* @theme: 정적 Raw 팔레트 → bg-primary-500 등 유틸리티 생성 */
@theme {
	--color-primary-500: #3b82f6;
	--color-success-500: #10b981;
}

/* @theme inline: CSS 변수 참조 → 런타임 다크모드 전환 */
@theme inline {
	--color-primary: var(--color-primary);
	--color-surface: var(--color-surface);
}
```

| 블록            | 용도          | Tailwind 클래스                      |
| --------------- | ------------- | ------------------------------------ |
| `@theme`        | Raw 팔레트    | `bg-primary-500`, `text-neutral-700` |
| `@theme inline` | Semantic 토큰 | `bg-surface`, `text-fg`, `border`    |

---

## 사용 방법

### 설치

```bash
pnpm add @kim-yeo-appweb-lab/ui
```

### 기본 설정

```tsx
// app.tsx
import { ThemeProvider } from "@kim-yeo-appweb-lab/ui";
import "@kim-yeo-appweb-lab/ui/styles";

function App() {
	return (
		<ThemeProvider>
			<YourApp />
		</ThemeProvider>
	);
}
```

### 컴포넌트 사용

```tsx
import { Button, Card, Badge } from "@kim-yeo-appweb-lab/ui";

function Example() {
	return (
		<Card>
			<Card.Title>제목</Card.Title>
			<Card.Description>설명</Card.Description>
			<Badge colorScheme="success">활성</Badge>
			<Button variant="primary">액션</Button>
		</Card>
	);
}
```

---

## 참고 문서

### 디자인 토큰

- [DESIGN_TOKENS.md](https://github.com/kim-yeo-appweb-lab/kim-yeo-ui/blob/main/docs/DESIGN_TOKENS.md) - 3계층 토큰 시스템 가이드

### 개발 가이드

- [TESTING.md](https://github.com/kim-yeo-appweb-lab/kim-yeo-ui/blob/main/docs/TESTING.md) - 테스트 전략
- [BRANCH_STRATEGY.md](https://github.com/kim-yeo-appweb-lab/kim-yeo-ui/blob/main/docs/BRANCH_STRATEGY.md) - Git 브랜칭 전략
- [DEPLOYMENT.md](https://github.com/kim-yeo-appweb-lab/kim-yeo-ui/blob/main/docs/DEPLOYMENT.md) - 배포 설정

### 디렉토리 구조

- `src/styles/` - 디자인 토큰 (tokens.css, theme.css, base.css)
- `src/components/` - UI 컴포넌트
- `src/hooks/` - 커스텀 훅
- `src/utils/` - 유틸리티 함수
