import { Meta, Source } from "@storybook/addon-docs/blocks";

<Meta title="Guides/cn" />

# cn — 클래스명 병합 유틸리티

Tailwind CSS 클래스를 안전하게 병합하는 유틸리티 함수입니다.
[clsx](https://github.com/lukeed/clsx)로 조건부 클래스를 처리하고, [tailwind-merge](https://github.com/dcastil/tailwind-merge)로 충돌하는 Tailwind 클래스를 해결합니다.

---

## Import

<Source language="tsx" code={`import { cn } from "@kim-yeo/ui";`} />

---

## 기본 사용법

여러 클래스를 하나로 병합합니다.

<Source
	language="tsx"
	code={`cn("px-4 py-2", "text-sm font-bold");
// → "px-4 py-2 text-sm font-bold"`}
/>

---

## 조건부 클래스

`clsx` 구문을 그대로 사용할 수 있습니다.

<Source
	language="tsx"
	code={`const isActive = true;
const isDisabled = false;

cn(
"px-4 py-2 rounded-md",
isActive && "bg-primary text-primary-fg",
isDisabled && "opacity-50 cursor-not-allowed"
);
// → "px-4 py-2 rounded-md bg-primary text-primary-fg"`}
/>

객체 구문도 지원합니다.

<Source
	language="tsx"
	code={`cn("base-class", {
	"bg-primary": variant === "primary",
	"bg-surface": variant === "secondary",
	"text-sm": size === "sm",
	"text-lg": size === "lg",
});`}
/>

---

## Tailwind 클래스 충돌 해결

`tailwind-merge` 덕분에 뒤에 오는 클래스가 앞의 충돌하는 클래스를 자동으로 덮어씁니다.

<Source
	language="tsx"
	code={`// tailwind-merge 없이: "px-4 px-2" → 두 값이 모두 적용되어 예측 불가
// cn 사용 시: 뒤의 값이 우선
cn("px-4 py-2", "px-2");
// → "py-2 px-2"

cn("bg-primary text-white", "bg-secondary");
// → "text-white bg-secondary"`}
/>

---

## 컴포넌트에서 활용

외부에서 전달받은 `className`을 기본 스타일과 안전하게 병합할 때 유용합니다.

<Source
	language="tsx"
	code={`type CardProps = {
	className?: string;
	children: React.ReactNode;
};

function Card({ className, children }: CardProps) {
return (

<div className={cn("rounded-lg bg-surface p-4 shadow-level-1", className)}>
{children}
</div>
);
}

// 소비자가 스타일을 오버라이드할 수 있음

<Card className="p-8 shadow-level-3">
	{/* p-4 → p-8, shadow-level-1 → shadow-level-3 으로 안전하게 교체 */}
</Card>`}
/>

---

## API

<Source language="tsx" code={`function cn(...inputs: ClassValue[]): string`} />

| 파라미터    | 타입           | 설명                                           |
| ----------- | -------------- | ---------------------------------------------- |
| `...inputs` | `ClassValue[]` | 문자열, 객체, 배열, falsy 값 등 clsx 지원 형식 |

**반환값**: 병합된 CSS 클래스 문자열
